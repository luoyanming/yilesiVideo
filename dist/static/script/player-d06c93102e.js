/**
 * @author luoym
 * @email 13575458746@163.com
 * @descrip 
 * @version v1.0.0
 */
$(function(){var t;({init:function(){t=this,t.getDetail()},getDetail:function(){$.ajax({url:CONFIG.api+"/parent/ajax/courseRecord/detail",dataType:"json",type:"post",data:{studentId:t.getQueryString("studentId"),recordId:t.getQueryString("recordId")},success:function(e){if(0==e.code){$(".loading").remove();var i=e.data.recordVo;if(0==i.publicity?$("#video").html('<img src="'+i.thumbnailUrl+'">'):1==i.publicity&&t.videoInit(i.videoPath,i.thumbnailUrl),$(".video-info").html("<p>课程时长："+i.videoLength+"。</p><p>"+i.describe+"</p>"),i.questionVoList&&i.questionVoList.length>0){for(var s="",o=0;o<i.questionVoList.length;o++)s+='<article class="list-item">',1==i.questionVoList[o].answerType?s+='<i class="type">单选</i>':2==i.questionVoList[o].answerType?s+='<i class="type">多选</i>':3==i.questionVoList[o].answerType&&(s+='<i class="type">判断</i>'),s+='<div class="thumb">',s+='<img src="'+i.questionVoList[o].imagePath+'">',s+="</div>",0==i.questionVoList[o].result?s+='<div class="text"><span class="color-false">回答错误</span>；'+i.questionVoList[o].anwerResult+"</div>":1==i.questionVoList[o].result?s+='<div class="text"><span class="color-true">回答正确</span>；'+i.questionVoList[o].anwerResult+"</div>":2==i.questionVoList[o].result&&(s+='<div class="text"><span class="color-false">回答错误</span>；'+i.questionVoList[o].anwerResult+"</div>"),s+="</article>";$(".problem-list").html(s)}$(".player").show()}else 1001==e.code?location.href=CONFIG.courseRecord_redirect_url:$(".loading").html('<div class="loading">'+e.errorInfo+"</div>")},error:function(){$(".loading").html('<div class="loading">数据加载失败</div>')}})},videoInit:function(t,e){cyberplayer("video").setup({width:"100%",height:"100%",file:t,image:e,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,ak:"ad3081dc1c5943858f737a57e701cc44"})},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}}).init()});