/**
 * @author luoym
 * @email 13575458746@163.com
 * @descrip 
 * @version v1.0.0
 */
$(function(){var i;({init:function(){i=this,i.getDetail()},getDetail:function(){$.ajax({url:CONFIG.api+"/parent/ajax/courseRecord/detail/public",dataType:"json",type:"post",data:{macNo:i.getQueryString("macNo"),recordId:i.getQueryString("recordId")},success:function(t){if(0==t.code){$(".loading").remove();var e=t.data.recordVo;if(0==e.publicity?$("#video").html('<img src="'+e.thumbnailUrl+'">'):1==e.publicity&&i.videoInit(e.videoPath,e.thumbnailUrl),$(".video-info").html("<p>课程时长："+e.videoLength+"。</p><p>"+e.describe+"</p>"),e.questionVoList&&e.questionVoList.length>0){for(var s="",o=0;o<e.questionVoList.length;o++)s+='<article class="list-item">',1==e.questionVoList[o].answerType?s+='<i class="type">单选</i>':2==e.questionVoList[o].answerType?s+='<i class="type">多选</i>':3==e.questionVoList[o].answerType&&(s+='<i class="type">判断</i>'),s+='<div class="thumb">',s+='<img src="'+e.questionVoList[o].imagePath+'">',s+="</div>",0==e.questionVoList[o].result?s+='<div class="text"><span class="color-false">回答错误</span>；'+e.questionVoList[o].anwerResult+"</div>":1==e.questionVoList[o].result?s+='<div class="text"><span class="color-true">回答正确</span>；'+e.questionVoList[o].anwerResult+"</div>":2==e.questionVoList[o].result&&(s+='<div class="text"><span class="color-false">回答错误</span>；'+e.questionVoList[o].anwerResult+"</div>"),s+="</article>";$(".problem-list").html(s)}$(".player").show()}else 1001==t.code?location.href=CONFIG.courseRecord_redirect_url:$(".loading").html('<div class="loading">'+t.errorInfo+"</div>")},error:function(){$(".loading").html('<div class="loading">数据加载失败</div>')}})},videoInit:function(i,t){cyberplayer("video").setup({width:"100%",height:"100%",file:i,image:t,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,ak:"ad3081dc1c5943858f737a57e701cc44"})},getQueryString:function(i){var t=new RegExp("(^|&)"+i+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(t);return null!=e?unescape(e[2]):null}}).init()});